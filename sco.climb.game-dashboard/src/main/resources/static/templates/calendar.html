<div class="row" style="width=100%;">
  <div layout="row" class="cal-sub-bar">
    <div layout="column" flex="50">
      <div layout="row">
        <div layout="column" class="cal-notif">Notification</div>
        <div layout="column" class="cal-notif-arrow"></div>
      </div>
    </div>
    <div layout="column" flex="50">
      <div layout="row">
        <div layout="column" class="cal-challenge-arrow"></div>
        <div layout="column" class="cal-challenge ">Challenges</div>
      </div>
    </div>
  </div>
  <div layout="row" class="state-row">
    <div layout="column" flex="25" class="cal-header">Stato</div>
    <div layout="column" flex="15" ng-repeat="day in week track by $index" ng-init="dayIndex = $index" class="cal-header">
      <span ng-if="!today(dayIndex)">Dati Inviati</span>
      <md-button ng-if="today(dayIndex)" ng-click="sendData()">INVIA DATI</md-button>
    </div>
  </div>
  <div layout="row" class="days-row">
    <div layout="column" flex="25" class="cal-header">Settimana</div>
    <div layout="column" flex="15" ng-repeat="day in week" class="cal-header">{{day |date:'EEEE dd-MM'}}</div>
  </div>
  <div layout="row" class="weather-row">
    <div layout="column" flex="25" class="cal-header">Clima</div>
    <div layout="column" flex="15" ng-repeat="day in week track by $index" ng-init="dayIndex = $index" class="cal-header">
      <div layout="row" flex="100">
        <div ng-if="!today(dayIndex)" layout="row" flex="100">
          <md-button class="md-icon-button"><i layout="column" flex="25" class="weather-icon" ng-class="{'icon-sun':weekData[dayIndex].meteo=='sunny','icon-cloudy':weekData[dayIndex].meteo=='cloudy','icon-rain':weekData[dayIndex].meteo=='rain','icon-snow':weekData[dayIndex].meteo=='snow'}"></i></md-button>
        </div>
        <!--        <div ng-if="today(dayIndex)" layout="column">-->
        <div layout="row" ng-if="today(dayIndex)" flex="100">
          <md-button class="md-icon-button" ng-click="selectWather('sunny')"><i layout="column" flex="25" class="weather-icon" ng-class="{'icon-sun':selectedWeather=='sunny','icon-sun_outline':selectedWeather!='sunny'}"></i></md-button>
          <md-button class="md-icon-button" ng-click="selectWather('cloudy')"><i layout="column" flex="25" class="weather-icon" ng-class="{'icon-cloudy':selectedWeather=='cloudy','icon-cloudy_outline':selectedWeather!='cloudy'}"></i></md-button>
          <md-button class="md-icon-button" ng-click="selectWather('rain')"><i layout="column" flex="25" class="weather-icon" ng-class="{'icon-rain':selectedWeather=='rain','icon-rain_outline':selectedWeather!='rain'}"></i></md-button>
          <md-button class="md-icon-button" ng-click="selectWather('snow')"><i layout="column" flex="25" class="weather-icon" ng-class="{'icon-snow':selectedWeather=='snow','icon-snow_outline':selectedWeather!='snow'}"></i></md-button>
          <!--          </div>-->
        </div>
      </div>
    </div>
  </div>
  <md-content class="baby-list">
    <md-list>
      <div layout="row" ng-repeat="baby in class track by $index" ng-init="babyIndex = $index" class="cal-baby">
        <div layout="column" flex="25" class="cal-name">
          {{baby.name}} {{baby.surname}}
        </div>
        <div layout="column" flex="15" ng-repeat="day in week track by $index" ng-init="dayIndex = $index">
          <md-button ng-if="!today(dayIndex)" class="cal-baby-cell">
            {{weekData[dayIndex][baby.childId]}}</md-button>
          <md-button ng-if="today(dayIndex)" class="cal-baby-cell" ng-click="selectBabyMean(babyIndex)" ng-class="todayData.babies[babyIndex].color">{{weekData[dayIndex][baby.childId]}}</md-button>
        </div>
      </div>
    </md-list>
  </md-content>
  <div class="cal-total" layout="row">
    <div layout="column" flex="25" class="cal-name">
      Totale
    </div>
    <div layout="column" flex="15" ng-repeat="day in week">
      <div layout="row">
        <div layout="column" flex="15" class="cal-foot-friend-col">
          0
        </div>
        <div layout="column" flex="15" class="cal-foot-adult-col">
          0
        </div>
        <div layout="column" flex="15" class="cal-bus-col">
          0
        </div>
        <div layout="column" flex="15" class="cal-car-square-col">
          0
        </div>
        <div layout="column" flex="15" class="cal-car-school-col">
          0
        </div>
        <div layout="column" flex="15" class="cal-away-col">
          0
        </div>
      </div>
    </div>
  </div>
</div>
<div class="cal-fab">
  <md-fab-speed-dial md-open="cal.isOpen" md-direction="up" ng-class="md-fling">
    <md-fab-trigger>
      <md-button aria-label="menu" class="md-fab " ng-class="selectedMeanColor">
        <md-icon md-svg-src="img/ic_color.svg"></md-icon>
      </md-button>
    </md-fab-trigger>

    <md-fab-actions>
      <md-button aria-label="A piedi o accompagnati da un adulto" class="md-fab md-raised md-mini cal-foot-friend-col" ng-click="selectGeneralMean('zeroImpact_solo')">
        <md-tooltip md-visible="cal.isOpen" md-direction="left">A piedi o in bici da solo o con gli amici</md-tooltip>
      </md-button>
      <md-button aria-label="A piedi o accompagnati da un adulto" class="md-fab md-raised md-mini cal-foot-adult-col" ng-click="selectGeneralMean('zeroImpact_wAdult')">
        <md-tooltip md-visible="cal.isOpen" md-direction="left">A piedi o accompagnati da un adulto</md-tooltip>
      </md-button>
      <md-button aria-label="Con scuolabus o autobus" class="md-fab md-raised md-mini cal-bus-col" ng-click="selectGeneralMean('bus')">
        <md-tooltip md-visible="cal.isOpen" md-direction="left">Con scuolabus o autobus</md-tooltip>
      </md-button>
      <md-button aria-label="In macchina fino alla piazzola di sosta" class="md-fab md-raised md-mini cal-car-square-col" ng-click="selectGeneralMean('pandr')">
        <md-tooltip md-visible="cal.isOpen" md-direction="left">In macchina fino alla piazzola di sosta</md-tooltip>
      </md-button>
      <md-button aria-label="In macchina fino a scuola" class="md-fab md-raised md-mini cal-car-school-col" ng-click="selectGeneralMean('car')">
        <md-tooltip md-visible="cal.isOpen" md-direction="left">In macchina fino a scuola</md-tooltip>
      </md-button>
      <md-button aria-label="Assente" class="md-fab md-raised md-mini cal-away-col" ng-click="selectGeneralMean('absent')">
        <md-tooltip md-visible="cal.isOpen" md-direction="left">Assente</md-tooltip>
      </md-button>
    </md-fab-actions>
  </md-fab-speed-dial>
</div>
